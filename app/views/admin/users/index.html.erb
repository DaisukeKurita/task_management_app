<h1><%= t('view.User list') %></h1>

<%= link_to t('view.New user registration'), new_admin_user_path, class: 'btn btn-primary' %>

<% if @user.present? %>
<div id="error_explantion">
  <h2><%= @user.errors.count %><%= t('view.error') %><%= @user.user_name %><%= t('view.prohibited this user from being saved') %></h2>
  <ul>
    <% @user.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
    <% end %>
  </ul>
</div>
<% end %>

<br><br>
<table>
  <tr>
    <th><%= t('view.User name') %></th>
    <th><%= t('view.Number of user tasks') %></th>
    <th><%= t('view.Administrator') %></th>
  </tr>
  <% @users.each do |user| %>
    <tr>
      <td><%= user.user_name %></td>
      <td><%= user.tasks.length %></td>
      <td><%= user.admin %></td>
      <td><%= link_to t('view.Show'), admin_user_path(user.id), class: 'btn btn-primary' %></td>
      <td><%= link_to t('view.Edit'), edit_admin_user_path(user.id), class: 'btn btn-success' %></td>
      <td><%= link_to t('view.Delete'), admin_user_path(user.id), method: :delete, class: 'btn btn-danger' %></td>
    </tr>
  <% end %>
</table>
<br><br>
<%= link_to t('view.Return to task list screen'), tasks_path %>
